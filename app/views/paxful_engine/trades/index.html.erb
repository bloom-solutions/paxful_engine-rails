<span class="font-weight-bold"> Found <%= pluralize(@trades.count, "trade") %>.</span>

<div>
  <% if params[:q] == "all" %>
    <%= link_to "ğŸ‘€ Only show successful trades", trades_path %>
  <% else %>
    <%= link_to "ğŸ‘€ Include non-successful trades", trades_path(q: :all) %>
  <% end %>
</div>

<hr />

<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th scope="col">Created</th>
        <th scope="col">Completed</th>
        <th scope="col">Trade hash</th>
        <th scope="col">Type</th>
        <th scope="col">Status</th>
        <th scope="col">Seller</th>
        <th scope="col">Buyer</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% if @trades.empty? %>
        <tr>
          <td colspan="7"> No trades found </td>
        </tr>
      <% end %>

      <% @trades.each do |trade| %>
        <tr scope="row">
          <td> <%= trade.created_at.strftime("%m/%d/%Y %I:%M%p") %> </td>
          <td> <%= trade.completed_at&.strftime("%m/%d/%Y %I:%M%p") || "-" %> </td>
          <td> <%= trade.trade_hash %> </td>
          <td> <%= trade.offer_type.upcase %> </td>
          <td> 
            <span class="<%= highlight_status(trade) %>"> <%= trade.status.upcase %> </span> 
          </td>
          <td> <%= trade.seller %> </td>
          <td> <%= trade.buyer %> </td>
          <td> <%= link_to "Check trade details", paxful_engine.trade_path(trade) %> </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
